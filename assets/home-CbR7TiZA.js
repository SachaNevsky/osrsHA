import{w as I,a as c,R as L,p as e}from"./chunk-WWGJGFF6-DaTaPSdi.js";const f=[{name:"Demon tear",highAlch:300,limit:13e3,members:!0,id:31111},{name:"Yew longbow",highAlch:768,limit:18e3,members:!0,id:855},{name:"Atlatl dart",highAlch:294,limit:11e3,members:!0,id:32869},{name:"Magic longbow",highAlch:1536,limit:18e3,members:!0,id:859},{name:"Dragonstone bolts (e)",highAlch:637,limit:11e3,members:!0,id:9244},{name:"Rune javelin tips",highAlch:810,limit:1e4,members:!0,id:19580},{name:"Gold necklace",highAlch:270,limit:18e3,members:!1,id:1654},{name:"Rune javelin",highAlch:240,limit:11e3,members:!0,id:830},{name:"Sapphire necklace",highAlch:630,limit:18e3,members:!1,id:1656},{name:"Maple longbow",highAlch:384,limit:18e3,members:!1,id:851},{name:"Onyx bolts (e)",highAlch:9e3,limit:11e3,members:!0,id:9245},{name:"Frozen tear",highAlch:300,limit:13e3,members:!0,id:29895},{name:"Air battlestaff",highAlch:9300,limit:18e3,members:!0,id:1397},{name:"Ruby necklace",highAlch:1305,limit:18e3,members:!1,id:1660},{name:"Dragon javelin tips",highAlch:1170,limit:1e4,members:!0,id:19582},{name:"Emerald necklace",highAlch:855,limit:18e3,members:!1,id:1658},{name:"Green d'hide body",highAlch:4680,limit:125,members:!1,id:1135},{name:"Willow longbow",highAlch:192,limit:18e3,members:!1,id:847},{name:"Diamond necklace",highAlch:2205,limit:18e3,members:!1,id:1662},{name:"Adamant platebody",highAlch:9984,limit:125,members:!1,id:1123},{name:"Steel platebody",highAlch:1200,limit:125,members:!1,id:1119},{name:"Mahogany repair kit",highAlch:1500,limit:13e3,members:!0,id:31973},{name:"Water battlestaff",highAlch:9300,limit:18e3,members:!0,id:1395},{name:"Black d'hide body",highAlch:8088,limit:70,members:!0,id:2503},{name:"Red d'hide body",highAlch:6738,limit:70,members:!0,id:2501},{name:"Diamond bracelet",highAlch:2295,limit:1e4,members:!0,id:11092},{name:"Earth battlestaff",highAlch:9300,limit:18e3,members:!0,id:1399},{name:"Yew shortbow",highAlch:480,limit:18e3,members:!0,id:857},{name:"Blue d'hide body",highAlch:5616,limit:125,members:!0,id:2499},{name:"Diamond amulet (u)",highAlch:2115,limit:1e4,members:!1,id:1681},{name:"Fire battlestaff",highAlch:9300,limit:18e3,members:!0,id:1393},{name:"Mithril platebody",highAlch:3120,limit:125,members:!1,id:1121},{name:"Diamond ring",highAlch:2115,limit:1e4,members:!1,id:1643},{name:"Ruby ring",highAlch:1215,limit:1e4,members:!1,id:1641},{name:"Mithril pickaxe",highAlch:780,limit:40,members:!1,id:1273},{name:"Rune warhammer",highAlch:24900,limit:70,members:!1,id:1347},{name:"Iron platebody",highAlch:336,limit:125,members:!1,id:1115},{name:"Rune full helm",highAlch:21120,limit:70,members:!1,id:1163},{name:"Rune longsword",highAlch:19200,limit:70,members:!1,id:1303},{name:"Rune platebody",highAlch:39e3,limit:70,members:!1,id:1127},{name:"Rune med helm",highAlch:11520,limit:70,members:!1,id:1147},{name:"Ruby bracelet",highAlch:1395,limit:1e4,members:!0,id:11085},{name:"Teak repair kit",highAlch:600,limit:13e3,members:!0,id:31970},{name:"Ironwood repair kit",highAlch:2400,limit:13e3,members:!0,id:31979},{name:"Rune mace",highAlch:8640,limit:70,members:!1,id:1432},{name:"Rune kiteshield",highAlch:32640,limit:70,members:!1,id:1201},{name:"Rune platelegs",highAlch:38400,limit:70,members:!1,id:1079},{name:"Maple shield",highAlch:192,limit:18e3,members:!0,id:22257},{name:"Combat bracelet",highAlch:12624,limit:1e4,members:!0,id:11126},{name:"Rune pickaxe",highAlch:19200,limit:40,members:!1,id:1275},{name:"Rune battleaxe",highAlch:24960,limit:70,members:!1,id:1373},{name:"Rune sword",highAlch:12480,limit:70,members:!1,id:1289},{name:"Camphor repair kit",highAlch:2100,limit:13e3,members:!0,id:31976},{name:"Coif",highAlch:120,limit:125,members:!1,id:1169},{name:"Adamant full helm",highAlch:2112,limit:125,members:!1,id:1161},{name:"Rune dagger",highAlch:4800,limit:70,members:!1,id:1213},{name:"Rune 2h sword",highAlch:38400,limit:70,members:!1,id:1319},{name:"Dragon dagger",highAlch:18e3,limit:70,members:!0,id:1215},{name:"Mithril 2h sword",highAlch:1560,limit:125,members:!1,id:1315},{name:"Adamant kiteshield",highAlch:3264,limit:125,members:!1,id:1199},{name:"Adamant platelegs",highAlch:3840,limit:125,members:!1,id:1073},{name:"Adamant 2h sword",highAlch:3840,limit:125,members:!1,id:1317},{name:"Rune plateskirt",highAlch:38400,limit:70,members:!1,id:1093},{name:"Dragon longsword",highAlch:6e4,limit:70,members:!0,id:1305},{name:"Rune chainbody",highAlch:3e4,limit:70,members:!1,id:1113},{name:"Rune scimitar",highAlch:15360,limit:70,members:!1,id:1333},{name:"Skills necklace",highAlch:12120,limit:1e4,members:!0,id:11113}],E=()=>{const[x,d]=c.useState([]),[A,y]=c.useState(!1),[w,j]=c.useState(""),[l,N]=c.useState({key:"profit",direction:"desc"}),[g,R]=c.useState(!1),[P,v]=c.useState(85),k=async()=>{y(!0),j("");try{const i=await fetch("https://prices.runescape.wiki/api/v1/osrs/latest",{headers:{"User-Agent":"OSRS High Alchemy Calculator"}});if(!i.ok)throw new Error(`API returned ${i.status}`);const t=await fetch("https://prices.runescape.wiki/api/v1/osrs/1h",{headers:{"User-Agent":"OSRS High Alchemy Calculator"}});if(!t.ok)throw new Error(`API returned ${t.status}`);const r=await i.json(),b=await t.json();r.data&&r.data[561]&&r.data[561].high&&v(r.data[561].high);const s=r.data?.["561"]?.high||P,a=f.map(o=>{const u=r.data?.[o.id]?.high||0,C=b.data?.[o.id]?.avgHighPrice||0,p=u>0?o.highAlch-u-s:0,M=p*(o.limit>4800?4800:o.limit),D=p*20;return{...o,buyPrice:u,recentBuyPrice:C,profit:p,profitPerLimit:M,profitPerMinute:D}});d(a)}catch(i){console.error("Error fetching prices:",i),j("Unable to fetch live prices. This may be due to CORS restrictions in the preview environment. The webapp will work when deployed to GitHub Pages.");const t=f.map(r=>({...r,buyPrice:0,recentBuyPrice:0,profit:0,profitPerLimit:0,profitPerMinute:0}));d(t)}finally{y(!1)}};c.useEffect(()=>{const i=f.map(t=>({...t,buyPrice:0,recentBuyPrice:0,profit:0,profitPerLimit:0,profitPerMinute:0}));d(i),k()},[]);const m=i=>{let t="asc";l.key===i&&l.direction==="asc"&&(t="desc"),N({key:i,direction:t})},S=L.useMemo(()=>[...x.filter(r=>g||!r.members)].sort((r,b)=>{const s=r[l.key],a=b[l.key];return typeof s=="string"&&typeof a=="string"?l.direction==="asc"?s.localeCompare(a):a.localeCompare(s):typeof s=="number"&&typeof a=="number"?l.direction==="asc"?s-a:a-s:0}),[x,l,g]),h=i=>l.key!==i?" ↕":l.direction==="asc"?" ↑":" ↓",n=i=>i.toLocaleString();return e.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"OSRS High Alchemy Profit Calculator"}),e.jsxs("div",{className:"mb-4 flex gap-4 items-center justify-center flex-wrap",children:[e.jsx("button",{onClick:k,disabled:A,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 rounded font-semibold transition",children:A?"Loading...":"Refresh Prices"}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:i=>R(i.target.checked),className:"w-5 h-5"}),e.jsx("span",{children:"Show Members Items"})]}),e.jsxs("div",{className:"text-sm",children:["Nature Rune Price: ",e.jsxs("span",{className:"font-bold text-yellow-400",children:[P," gp"]})]})]}),w&&e.jsxs("div",{className:"mb-4 p-4 bg-yellow-900 border border-yellow-600 rounded text-yellow-100",children:[e.jsx("strong",{children:"Note:"})," ",w]}),e.jsx("div",{className:"overflow-x-auto bg-gray-800 rounded-lg shadow-lg",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-700",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"px-4 py-3 text-left cursor-pointer hover:bg-gray-600",onClick:()=>m("name"),children:["Item",h("name")]}),e.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-gray-600",onClick:()=>m("buyPrice"),children:["Buy Price",h("buyPrice")]}),e.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-gray-600",onClick:()=>m("highAlch"),children:["High Alch",h("highAlch")]}),e.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-gray-600",onClick:()=>m("profit"),children:["Profit",h("profit")]}),e.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-gray-600",onClick:()=>m("limit"),children:["Limit",h("limit")]}),e.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-gray-600",onClick:()=>m("profitPerLimit"),children:["Profit/Limit",h("profitPerLimit")]}),e.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-gray-600",onClick:()=>m("profitPerMinute"),children:["Profit/minute",h("profitPerMinute")]})]})}),e.jsx("tbody",{children:S.map((i,t)=>e.jsxs("tr",{className:`border-t border-gray-700 ${t%2===0?"bg-gray-800":"bg-gray-750"} hover:bg-gray-700`,children:[e.jsxs("td",{className:"px-4 py-2",children:[i.members?e.jsx("img",{src:"https://oldschool.runescape.wiki/images/Member_icon.png",alt:"OSRS Member star",className:"inline-block align-middle w-4 h-4"}):e.jsx("img",{src:"https://oldschool.runescape.wiki/images/Free-to-play_icon.png",alt:"OSRS F2P star"}),e.jsx("a",{href:`https://prices.runescape.wiki/osrs/item/${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline pl-2",children:i.name})]}),e.jsxs("td",{className:"px-4 py-2 text-right",children:[e.jsx("b",{children:i.buyPrice?n(i.buyPrice):"N/A"})," (",i.recentBuyPrice?n(i.recentBuyPrice):"N/A",")"]}),e.jsx("td",{className:"px-4 py-2 text-right text-yellow-300",children:e.jsx("b",{children:n(i.highAlch)})}),e.jsx("td",{className:`px-4 py-2 text-right font-bold ${i.profit>0?"text-green-400":"text-red-400"}`,children:e.jsx("b",{children:i.buyPrice?n(i.profit):"N/A"})}),e.jsx("td",{className:"px-4 py-2 text-right",children:n(i.limit)}),e.jsx("td",{className:`px-4 py-2 text-right font-bold ${i.profitPerLimit>0?"text-green-400":"text-red-400"}`,children:i.buyPrice?n(i.profitPerLimit):"N/A"}),e.jsx("td",{className:`px-4 py-2 text-right font-bold ${i.profitPerMinute>0?"text-green-400":"text-red-400"}`,children:i.buyPrice?n(i.profitPerMinute):"N/A"})]},i.id))})]})}),e.jsx("div",{className:"mt-4 text-center text-sm text-gray-400",children:e.jsxs("p",{children:["Prices fetched from ",e.jsx("a",{href:"https://prices.runescape.wiki",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"prices.runescape.wiki"})]})})]})})},$=I(E);export{$ as default};
